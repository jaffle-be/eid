typeof app=="undefined"&&(app={});(function(e,t){"use strict";var n=function(){this.$modal=e("#confirmation-modal");this.callback=!1;this.events()};n.prototype={events:function(){var e=this;this.$modal.on("click",".modal-footer .btn-primary",function(){typeof e.callback=="function"&&e.callback();e.$modal.modal("hide")})},open:function(e){typeof e=="function"&&(this.callback=e);this.$modal.modal("show")},close:function(){this.$modal.modal("hide")}};var r=new n;t.confirmation=r})(window.jQuery,window.app);(function(e,t,n){e(document).ready(function(){var r={getSelectedRows:function(){var t=[];e("table tbody tr td:first-child .selector").each(function(n,r){e(r).prop("checked")==1&&t.push(e(r).closest("tr"))});return t},deleteRows:function(t){var r=e.map(t,function(t){return e(t).data("application-id")});e.ajax({url:"/api/application/delete",type:"POST",data:{ids:r},dataType:"json",success:function(e){e.status==="oke"&&n.location.reload()}})}};e(".page-actions").on("click","a.delete",function(e){var n=r.getSelectedRows();n.length>0&&t.confirmation.open(function(){r.deleteRows(n)});e.preventDefault()})})})(window.jQuery,window.app,window);